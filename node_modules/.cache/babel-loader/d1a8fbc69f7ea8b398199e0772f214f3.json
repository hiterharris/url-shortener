{"ast":null,"code":"import _slicedToArray from\"/Users/henryharrisiv/Desktop/Projects/url-shortener/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';var useBitly=function useBitly(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),shortUrl=_useState2[0],setShortUrl=_useState2[1];var getUrl=function getUrl(longUrl){var requestOptions={method:'POST',mode:'cors',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(process.env.REACT_APP_API_TOKEN)},body:JSON.stringify({domain:\"bit.ly\",long_url:longUrl})};if(longUrl.length>0){fetch('https://api-ssl.bitly.com/v4/shorten',requestOptions).then(function(response){return response.json();}).then(function(data){return setShortUrl(data===null||data===void 0?void 0:data.link);}).catch(function(error){return console.log('ERROR fetching shorten url: ',error);});}};return{getUrl:getUrl,shortUrl:shortUrl,setShortUrl:setShortUrl};};export default useBitly;","map":{"version":3,"names":["useState","useBitly","shortUrl","setShortUrl","getUrl","longUrl","requestOptions","method","mode","headers","process","env","REACT_APP_API_TOKEN","body","JSON","stringify","domain","long_url","length","fetch","then","response","json","data","link","catch","error","console","log"],"sources":["/Users/henryharrisiv/Desktop/Projects/url-shortener/src/hooks/useBitly.js"],"sourcesContent":["import { useState } from 'react';\n\nconst useBitly = () => {\n    const [shortUrl, setShortUrl] = useState('')\n\n    const getUrl = (longUrl) => {\n        const requestOptions = {\n            method: 'POST',\n            mode: 'cors',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${process.env.REACT_APP_API_TOKEN}`\n            },\n            body: JSON.stringify({\n                domain: \"bit.ly\",\n                long_url: longUrl\n            })\n        };\n\n        if (longUrl.length > 0) {\n            fetch('https://api-ssl.bitly.com/v4/shorten', requestOptions)\n                .then(response => response.json())\n                .then(data => setShortUrl(data?.link))\n                .catch(error => console.log('ERROR fetching shorten url: ', error));\n        }\n        \n    }        \n\n    return { getUrl, shortUrl, setShortUrl };\n}\n\nexport default useBitly;\n"],"mappings":"yIAAA,OAASA,QAAT,KAAyB,OAAzB,CAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACnB,cAAgCD,QAAQ,CAAC,EAAD,CAAxC,wCAAOE,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,CAACC,OAAD,CAAa,CACxB,GAAMC,eAAc,CAAG,CACnBC,MAAM,CAAE,MADW,CAEnBC,IAAI,CAAE,MAFa,CAGnBC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,iCAA2BC,OAAO,CAACC,GAAR,CAAYC,mBAAvC,CAFK,CAHU,CAOnBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,MAAM,CAAE,QADS,CAEjBC,QAAQ,CAAEZ,OAFO,CAAf,CAPa,CAAvB,CAaA,GAAIA,OAAO,CAACa,MAAR,CAAiB,CAArB,CAAwB,CACpBC,KAAK,CAAC,sCAAD,CAAyCb,cAAzC,CAAL,CACKc,IADL,CACU,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAIpB,YAAW,CAACoB,IAAD,SAACA,IAAD,iBAACA,IAAI,CAAEC,IAAP,CAAf,EAFd,EAGKC,KAHL,CAGW,SAAAC,KAAK,QAAIC,QAAO,CAACC,GAAR,CAAY,8BAAZ,CAA4CF,KAA5C,CAAJ,EAHhB,EAIH,CAEJ,CArBD,CAuBA,MAAO,CAAEtB,MAAM,CAANA,MAAF,CAAUF,QAAQ,CAARA,QAAV,CAAoBC,WAAW,CAAXA,WAApB,CAAP,CACH,CA3BD,CA6BA,cAAeF,SAAf"},"metadata":{},"sourceType":"module"}